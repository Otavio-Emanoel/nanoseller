spring.application.name=nanoseller-api

# Datasource (default: H2 em memória para rodar sem infra local)
# Para Postgres/Redis reais, use o profile `local`.
spring.datasource.url=${NANOSELLER_DB_URL:jdbc:h2:mem:nanoseller;MODE=PostgreSQL;DB_CLOSE_DELAY=-1}
spring.datasource.driverClassName=${NANOSELLER_DB_DRIVER:org.h2.Driver}
spring.datasource.username=${NANOSELLER_DB_USER:sa}
spring.datasource.password=${NANOSELLER_DB_PASSWORD:}

spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=${NANOSELLER_JPA_DDL_AUTO:update}

# Flyway (default desabilitado porque a V1 é Postgres-specific: pgcrypto)
spring.flyway.enabled=${NANOSELLER_FLYWAY_ENABLED:false}

# Redis (default localhost; não precisa estar de pé para subir, desde que você não use cache)
spring.data.redis.host=${NANOSELLER_REDIS_HOST:localhost}
spring.data.redis.port=${NANOSELLER_REDIS_PORT:6379}

# JWT
# Em produção, sobrescreva via variável de ambiente/secret manager.
# Default abaixo é APENAS para desenvolvimento local.
security.jwt.secret=${NANOSELLER_JWT_SECRET:0123456789ABCDEF0123456789ABCDEF}
security.jwt.issuer=nanoseller-api
security.jwt.access-token-ttl=PT2H
security.jwt.refresh-token-ttl=P30D
